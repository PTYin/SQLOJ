(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{188:function(e,t,a){},194:function(e,t,a){},253:function(e,t,a){},284:function(e,t,a){},33:function(e,t,a){"use strict";t.a=a.p+"static/media/logo.47f88b05.png"},358:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Submit}));var E_Projects_web_SQLOJ_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),react_router_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(41),_components_guide__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(90),_common_images_logo_png__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(33),_common_layout_css__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(58),_common_layout_css__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_common_layout_css__WEBPACK_IMPORTED_MODULE_5__),antd__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(157),antd__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(93),antd__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(232),antd__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(694),antd__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(46),axios__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(18),axios__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_11__),rc_queue_anim__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(29),github_markdown_css__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(95),github_markdown_css__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(github_markdown_css__WEBPACK_IMPORTED_MODULE_13__),_common_otto_css__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(194),_common_otto_css__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_common_otto_css__WEBPACK_IMPORTED_MODULE_14__),codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(137),codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_15__),codemirror_mode_sql_sql__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(125),codemirror_mode_sql_sql__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(codemirror_mode_sql_sql__WEBPACK_IMPORTED_MODULE_16__),codemirror_addon_hint_show_hint_css__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(138),codemirror_addon_hint_show_hint_css__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(codemirror_addon_hint_show_hint_css__WEBPACK_IMPORTED_MODULE_17__),codemirror_addon_hint_show_hint_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(139),codemirror_addon_hint_show_hint_js__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(codemirror_addon_hint_show_hint_js__WEBPACK_IMPORTED_MODULE_18__),codemirror_addon_hint_sql_hint_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(140),codemirror_addon_hint_sql_hint_js__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(codemirror_addon_hint_sql_hint_js__WEBPACK_IMPORTED_MODULE_19__),codemirror_theme_solarized_css__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(141),codemirror_theme_solarized_css__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(codemirror_theme_solarized_css__WEBPACK_IMPORTED_MODULE_20__),react_codemirror2__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(76),react_codemirror2__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(react_codemirror2__WEBPACK_IMPORTED_MODULE_21__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(3),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__);function Submit(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),_useState2=Object(E_Projects_web_SQLOJ_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),questionName=_useState2[0],setQuestionName=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),_useState4=Object(E_Projects_web_SQLOJ_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState3,2),description=_useState4[0],setDescription=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),_useState6=Object(E_Projects_web_SQLOJ_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState5,2),code=_useState6[0],setCode=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),_useState8=Object(E_Projects_web_SQLOJ_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState7,2),header=_useState8[0],setHeader=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),_useState10=Object(E_Projects_web_SQLOJ_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState9,2),output=_useState10[0],setOutput=_useState10[1],Header=antd__WEBPACK_IMPORTED_MODULE_6__.a.Header,Content=antd__WEBPACK_IMPORTED_MODULE_6__.a.Content,Sider=antd__WEBPACK_IMPORTED_MODULE_6__.a.Sider,history=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.f)();return Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){var questionPromise=axios__WEBPACK_IMPORTED_MODULE_11___default.a.get("/api/student/selectQuestionById",{params:{question_id:window.sessionStorage.record_question_id}}),recordPromise=axios__WEBPACK_IMPORTED_MODULE_11___default.a.get("api/student/selectRecordById",{params:{record_id:window.sessionStorage.record_id}});Promise.all([questionPromise,recordPromise]).then((function(responses){var questionResponse=responses[0],recordResponse=responses[1];if("RUNNING"===recordResponse.data.record_status.toUpperCase())antd__WEBPACK_IMPORTED_MODULE_7__.b.info("Executing...");else if("RE"===recordResponse.data.record_status.toUpperCase())antd__WEBPACK_IMPORTED_MODULE_7__.b.error("Please retry! The execution of your commands caused runtime error.");else{"AC"===recordResponse.data.record_status.toUpperCase()?antd__WEBPACK_IMPORTED_MODULE_7__.b.success("Congrats! You completed this question"):"WA"===recordResponse.data.record_status.toUpperCase()?antd__WEBPACK_IMPORTED_MODULE_7__.b.error("Please retry! Your answer is "+recordResponse.data.record_lack+" rows missing and "+recordResponse.data.record_err+" rows wrong"):"TLE"===recordResponse.data.record_status.toUpperCase()&&antd__WEBPACK_IMPORTED_MODULE_7__.b.error("Please retry! The execution of your commands reached the time limit"),recordResponse.data.record_header=eval(recordResponse.data.record_header),recordResponse.data.record_output=eval(recordResponse.data.record_output);var temp_header=[];recordResponse.data.record_header.forEach((function(e){temp_header.push({title:e,dataIndex:e,key:e,align:"center"})}));var temp_output=[];recordResponse.data.record_output.forEach((function(e,t){var a={key:t};e.forEach((function(e,t){a[temp_header[t].title]=e})),temp_output.push(a)})),console.log(temp_header),console.log(temp_output),setQuestionName(questionResponse.data.question_name),setDescription(questionResponse.data.question_description),setOutput(questionResponse.data.question_output),setCode(recordResponse.data.record_code),setHeader(temp_header),setOutput(temp_output)}}))}),[]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_6__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(Header,{className:"header",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("img",{src:_common_images_logo_png__WEBPACK_IMPORTED_MODULE_4__.a,style:{height:"45px"},alt:""})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_6__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(Sider,{width:200,className:"site-layout-content",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_components_guide__WEBPACK_IMPORTED_MODULE_3__.a,{item:"records"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.a,{style:{padding:"0 24px 24px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(Content,{className:"default_font",style:{margin:"24px 0"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)(rc_queue_anim__WEBPACK_IMPORTED_MODULE_12__.a,{type:["right","left"],duration:"2000",ease:["easeOutQuart","easeInOutQuart"],children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{className:"info-card",title:"question name",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("div",{dangerouslySetInnerHTML:{__html:questionName}})})},"question_name"),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{className:"info-card",title:"question description",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("div",{dangerouslySetInnerHTML:{__html:description}})})},"question_description"),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{title:"submitted code",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(react_codemirror2__WEBPACK_IMPORTED_MODULE_21__.Controlled,{value:code,options:{readOnly:!0,lineNumbers:!0,mode:{name:"text/x-mysql"},lineWrapping:!0,foldGutter:!0,theme:"solarized"}},"editor")})},"code"),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(antd__WEBPACK_IMPORTED_MODULE_8__.a,{className:"info-card",title:"Output",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.a,{pagination:{defaultPageSize:5,showSizeChanger:!0,showQuickJumper:!0},columns:header,dataSource:output})})},"record_output"),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("div",{className:"button-container",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(antd__WEBPACK_IMPORTED_MODULE_10__.a,{type:"primary",className:"button",onClick:function(){history.push("/records")},children:"return"})},"return")]},"demo")})})]})]})}},378:function(e,t,a){},524:function(e,t,a){},58:function(e,t,a){},692:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(34),c=a.n(i),r=a(44),o=a(41),_=(a(377),a(378),a(26)),d=a(350),l=a(351),u=a(368),j=a(362),O=a(272),b=(a(420),a(55)),m=a(268),h=a.n(m),p=a(706),x=(a(284),a(29)),g=a(3),f=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={show:!0},e.geInterval=function(e){switch(e.index){case 0:return 0;case 1:return 150;case 2:case 3:case 4:case 5:case 6:return 600+10*(e.index-2);default:return 600+150*(e.index-6)}},e.getEnter=function(e){var t={opacity:0,scale:.8,y:"-100%"};return e.index>=2&&e.index<=6?Object(_.a)(Object(_.a)({},t),{},{y:"-30%",duration:150}):t},e.getSplit=function(e){var t=e.split(" "),a=[];return t.forEach((function(e,s){a.push(Object(g.jsx)("span",{children:e},"".concat(e,"-").concat(s))),s<t.length-1&&a.push(Object(g.jsx)("span",{children:" "}," -".concat(s)))})),a},e.onClick=function(){e.setState({show:!1},(function(){e.setState({show:!0})}))},e.onClick2=function(){window.localStorage.collapsed=0,e.props.history.push("/login")},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:"combined-wrapper",children:[Object(g.jsx)("div",{className:"combined-reload",children:Object(g.jsx)(h.a,{type:"primary",shape:"circle",icon:Object(g.jsx)(p.a,{}),onClick:this.onClick})}),Object(g.jsx)("div",{children:this.state.show&&Object(g.jsxs)("div",{className:"combined",children:[Object(g.jsxs)("div",{className:"combined-shape",children:[Object(g.jsx)("div",{className:"shape-left",children:Object(g.jsx)(b.b,{animation:[{x:158,type:"from",ease:"easeInOutQuint",duration:600},{x:-158,ease:"easeInOutQuart",duration:450,delay:-150}]})}),Object(g.jsx)("div",{className:"shape-right",children:Object(g.jsx)(b.b,{animation:[{x:-158,type:"from",ease:"easeInOutQuint",duration:600},{x:158,ease:"easeInOutQuart",duration:450,delay:-150}]})})]}),Object(g.jsx)(O.a,{className:"title",type:"mask-top",delay:400,enter:this.getEnter,interval:this.geInterval,component:b.b,componentProps:{animation:[{x:130,type:"set"},{x:100,delay:500,duration:450},{ease:"easeOutQuart",duration:300,x:0},{letterSpacing:0,delay:-300,scale:.9,ease:"easeInOutQuint",duration:1e3},{scale:1,width:"100%",delay:-300,duration:1e3,ease:"easeInOutQuint"}]},children:"SQLOJ"}),Object(g.jsx)(b.b,{className:"combined-bar",animation:{delay:2e3,width:0,x:158,type:"from",ease:"easeInOutExpo"}}),Object(g.jsx)(O.a,{className:"content",type:"bottom",split:this.getSplit,delay:2200,interval:30,children:"An open judge platform for Database System."}),Object(g.jsx)(x.a,{type:["left","right"],delay:"2300",duration:"1400",ease:["easeOutQuart","easeInOutQuart"],children:Object(g.jsx)("div",{children:Object(g.jsx)(h.a,{className:"jump",type:"primary",icon:"Login",onClick:this.onClick2})},"button-container")},"demo")]})})]})}}]),a}(n.a.Component);function E(){var e=Object(o.f)();return Object(g.jsx)(f,{history:e})}var y=a(11),w=a(370),D=a(371),C=a(174),P=a(46),M=a(93),v=a(18),S=a.n(v),I=(a(524),a(188),w.a.Item);function A(){var e={labelCol:{span:8},wrapperCol:{span:16}},t={wrapperCol:{span:24}},a=Object(s.useState)(""),n=Object(y.a)(a,2),i=n[0],c=n[1],r=Object(s.useState)(""),d=Object(y.a)(r,2),l=d[0],u=d[1],j=Object(s.useState)(!1),O=Object(y.a)(j,2),b=O[0],m=O[1],h=Object(o.f)();return Object(s.useEffect)((function(){m("true"===window.localStorage.remember),"true"===window.localStorage.remember?(c(window.localStorage.username),u(window.localStorage.password)):(window.localStorage.removeItem("username"),window.localStorage.removeItem("password"))}),[]),Object(g.jsx)("div",{className:"combined-wrapper",children:Object(g.jsx)(x.a,{className:"anime",type:["top","bottom"],duration:"1400",ease:["easeOutQuart","easeInOutQuart"],children:Object(g.jsx)("div",{className:"frame",children:Object(g.jsxs)(w.a,{className:"login-form",name:"basic",initialValues:{remember:!0},children:[Object(g.jsx)(I,Object(_.a)(Object(_.a)({},t),{},{style:{textAlign:"center"},children:Object(g.jsx)("p",{className:"form_title",children:"login"})})),Object(g.jsx)(I,Object(_.a)(Object(_.a)({},e),{},{label:"username",children:Object(g.jsx)(D.a,{placeholder:"Please enter the user name",maxLength:10,defaultValue:i,onChange:function(e){c(e.target.value)}})})),Object(g.jsx)(I,Object(_.a)(Object(_.a)({},e),{},{label:"password",children:Object(g.jsx)(D.a,{placeholder:"Please enter your password.",defaultValue:l,maxLength:30,type:"password",onChange:function(e){u(e.target.value)}})})),Object(g.jsx)(I,Object(_.a)(Object(_.a)({},{wrapperCol:{offset:8,span:16}}),{},{style:{textAlign:"left"},children:Object(g.jsx)(C.a,{defaultChecked:b,onChange:function(e){m(e.target.checked)},children:"Remember me"})})),Object(g.jsx)(I,Object(_.a)(Object(_.a)({},t),{},{style:{textAlign:"center"},children:Object(g.jsx)(P.a,{type:"primary",style:{width:"40%"},onClick:function(){(function(e,t){var a=new URLSearchParams;return a.append("username",e),a.append("password",t),S.a.defaults.withCredentials=!0,S.a.post("/api/login",a)})(i,l).then((function(e){console.log(e.data),e.data.success?(M.b.success("Log in successfully."),window.sessionStorage.username=i,window.localStorage.remember=b,console.log(b),b?(window.localStorage.username=i,window.localStorage.password=l):(window.localStorage.removeItem("username"),window.localStorage.removeItem("password")),"teacher"===e.data.data?h.push("/teacherAssignments"):"student"===e.data.data&&h.push("/assignments")):M.b.error("Invalid authentication information.")}))},children:"OK"})}))]})},"demo1")},"demo")})}S.a.defaults.withCredentials=!0;var L=a(157),q=a(705),R=a(694),T=a(33),k=(a(58),a(90));function N(){var e=L.a.Header,t=L.a.Content,a=L.a.Sider,n=Object(s.useState)([]),i=Object(y.a)(n,2),c=i[0],r=i[1],_=Object(o.f)(),d=[{title:"Assignment Name",dataIndex:"assignment_name",key:"name"},{title:"Start",dataIndex:"assignment_start_time",key:"start"},{title:"DDL",dataIndex:"assignment_end_time",key:"deadline"},{title:"Action",key:"action",render:function(e){return Object(g.jsx)(q.b,{size:"middle",children:Object(g.jsx)(P.a,{className:"button",onClick:function(){window.sessionStorage.assignment_ID=e.assignment_id,_.push("/questions")},children:"questions"})})}}];return Object(s.useEffect)((function(){function e(){S.a.defaults.withCredentials=!0,S.a.get("/api/student/queryAssignmentList").then((function(e){for(var t=e.data,a=0;a<t.length;a++)t[a].key=t[a].assignment_id;for(var s=0;s<t.length;s++)for(var n=s;n<t.length;n++)if(Date.parse(t[s].assignment_end_time)>Date.parse(t[n].assignment_end_time)){var i=t[s];t[s]=t[n],t[n]=i}r(t)}))}e();var t=setInterval(e,3e3);return function(){clearInterval(t)}}),[]),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(e,{className:"header",children:Object(g.jsx)("img",{src:T.a,style:{height:"45px"},alt:""})}),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(a,{style:{width:"200px"},className:"site-layout-content",children:Object(g.jsx)(k.a,{item:"assignments"})}),Object(g.jsx)(L.a,{style:{padding:"0 24px 24px"},children:Object(g.jsx)(t,{className:"default_font",style:{margin:"24px 0"},children:Object(g.jsx)(x.a,{type:["top","bottom"],duration:"1400",ease:["easeOutQuart","easeInOutQuart"],children:Object(g.jsx)("div",{children:Object(g.jsx)(R.a,{columns:d,dataSource:c})},"assignments")},"demo")})})]})]})}var U=a(367);function B(){var e=Object(s.useState)(!0),t=Object(y.a)(e,1)[0],a=L.a.Header,n=L.a.Content,i=L.a.Sider,c=Object(s.useState)([]),r=Object(y.a)(c,2),_=r[0],d=r[1],l=Object(o.f)(),u=[{title:"Question Name",dataIndex:"question_name",key:"question_name"},{title:"Finished",dataIndex:"is_finished",key:"is_finished",render:function(e){var t="green";return"No"===e&&(t="volcano"),Object(g.jsx)(U.a,{color:t,children:e.toUpperCase()},e)}},{title:"Action",key:"action",render:function(e){return Object(g.jsx)(q.b,{size:"middle",children:Object(g.jsx)(P.a,{className:"button",onClick:function(){window.sessionStorage.question_ID=e.question_id,l.push("submit")},children:"details"})})}}],j=window.sessionStorage.assignment_ID;return Object(s.useEffect)((function(){function e(){S.a.defaults.withCredentials=!0,S.a.get("/api/student/selectQuestionsByAssignment",{params:{assignment_id:j}}).then((function(e){for(var t=e.data,a=0;a<t.length;a++)t[a].key=t[a].question_id,!0===t[a].is_finished?t[a].is_finished="Yes":t[a].is_finished="No";d(e.data)}))}e();var t=setInterval(e,3e3);return function(){clearInterval(t)}}),[j]),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(a,{className:"header",children:Object(g.jsx)("img",{src:T.a,style:{height:"45px"},alt:""})}),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(i,{width:200,className:"site-layout-content",children:Object(g.jsx)(k.a,{item:"assignments"})}),Object(g.jsx)(L.a,{style:{padding:"0 24px 24px"},children:Object(g.jsx)(n,{className:"default_font",style:{margin:"24px 0"},children:Object(g.jsx)(x.a,{type:["top","bottom"],duration:"1400",ease:["easeOutQuart","easeInOutQuart"],children:t?[Object(g.jsx)(R.a,{columns:u,dataSource:_},"demo1"),Object(g.jsx)("div",{style:{height:"20px"}})]:null},"demo")})})]})]})}var K=a(232),W=(a(95),a(194),a(253),a(76)),Q=(a(137),a(125),a(138),a(139),a(140),a(141),Object(s.forwardRef)((function(e,t){var a=Object(s.useState)(""),n=Object(y.a)(a,2),i=n[0],c=n[1],r=Object(s.useState)(""),_=Object(y.a)(r,2),d=_[0],l=_[1],u=Object(s.useState)([]),j=Object(y.a)(u,2),O=(j[0],j[1]),b=Object(s.useState)(""),m=Object(y.a)(b,2),h=m[0],p=m[1],f=L.a.Header,E=L.a.Content,w=L.a.Sider,D=window.sessionStorage.question_ID,C=Object(o.f)();return Object(s.useEffect)((function(){console.log(h),S.a.get("/api/student/selectQuestionById",{params:{question_id:D}}).then((function(e){c(e.data.question_name),l(e.data.question_description),O(e.data.question_output)}))}),[]),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(f,{className:"header",children:Object(g.jsx)("img",{src:T.a,style:{height:"45px"},alt:""})}),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(w,{width:200,className:"site-layout-content",children:Object(g.jsx)(k.a,{item:"records"})}),Object(g.jsx)(L.a,{style:{padding:"0 24px 24px"},children:Object(g.jsx)(E,{className:"default_font",style:{margin:"24px 0"},children:Object(g.jsx)(x.a,{type:["right","left"],duration:"2000",ease:["easeOutQuart","easeInOutQuart"],children:[Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{className:"info-card",title:"question name",children:Object(g.jsx)("div",{dangerouslySetInnerHTML:{__html:i}})})},"question_name"),Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{className:"info-card",title:"question description",children:Object(g.jsx)("div",{dangerouslySetInnerHTML:{__html:d}})})},"question_description"),Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{className:"info-card",title:"question answer",children:Object(g.jsx)(W.Controlled,{value:h,onBeforeChange:function(e,t,a){return p(a)},options:{lineNumbers:!0,mode:{name:"text/x-mysql"},extraKeys:{Ctrl:"autocomplete"},styleActiveLine:!0,lineWrapping:!0,foldGutter:!0,theme:"solarized"}},"editor")})},"question_answer"),Object(g.jsx)("div",{className:"button-container",children:Object(g.jsx)(P.a,{type:"primary",style:{width:"90px"},className:"button",onClick:function(){S.a.defaults.withCredentials=!0;var e=new URLSearchParams;console.log(D),console.log(h),e.append("question_id",D),e.append("code",h),S.a.post("/api/student/submit",e).then((function(e){e.data.success?(M.b.success("Submit successfully."),C.push("/records")):M.b.error("Failed to submit.")}))},children:"submit"})},"submit")]},"demo")})})]})]})})));function H(){var e=L.a.Header,t=L.a.Content,a=L.a.Sider,n=Object(s.useState)([]),i=Object(y.a)(n,2),c=i[0],r=i[1],_=Object(o.f)(),d=[{title:"Record",dataIndex:"record_id",key:"record_id"},{title:"Time",dataIndex:"record_time",key:"time"},{title:"Assignment",dataIndex:"assignment_name",key:"assignment_name"},{title:"Question",dataIndex:"question_name",key:"question_name"},{title:"Status",dataIndex:"record_status",key:"status",render:function(e){var t;return"RUNNING"===(e=e.toUpperCase())?t="geekblue":"AC"===e?t="green":"WA"===e?t="volcano":"TTL"===e&&(t="yellow"),Object(g.jsx)(U.a,{color:t,children:e},e)}},{title:"Running",dataIndex:"running_time",key:"running_time"},{title:"Action",key:"detail",render:function(e){return Object(g.jsx)(q.b,{size:"middle",children:Object(g.jsx)(P.a,{className:"button",onClick:function(){window.sessionStorage.record_id=e.record_id,window.sessionStorage.record_question_id=e.question_id,_.push("recordDetail")},children:"detail"})})}}];return Object(s.useEffect)((function(){function e(){S.a.defaults.withCredentials=!0,S.a.get("/api/student/queryRecordList").then((function(e){for(var t=e.data,a=0;a<t.length;a++)void 0!==t[a].running_time&&null!==t[a].running_time||(t[a].running_time="not available");for(var s=0;s<t.length;s++)for(var n=s;n<t.length;n++)if(new Date(t[s].record_time)<new Date(t[n].record_time)){var i=t[s];t[s]=t[n],t[n]=i}r(t)}))}e();var t=setInterval(e,500);return function(){clearInterval(t)}}),[]),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(e,{className:"header",children:Object(g.jsx)("img",{src:T.a,style:{height:"45px"},alt:""})}),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(a,{width:200,className:"site-layout-content",children:Object(g.jsx)(k.a,{item:"records"})}),Object(g.jsx)(L.a,{style:{padding:"0 24px 24px"},children:Object(g.jsx)(t,{className:"default_font",style:{margin:"24px 0"},children:Object(g.jsx)(x.a,{type:["top","bottom"],duration:"1400",ease:["easeOutQuart","easeInOutQuart"],children:Object(g.jsx)(R.a,{columns:d,dataSource:c},"demo1")},"demo")})})]})]})}var z=a(358),F=a(66),Y=a(695),V=a(177),G=a(697),J=a(698),X=a(707),Z=a(708),$=a(699),ee=w.a.Item;function te(e){var t=F.a.SubMenu,a=Object(o.f)(),n=Object(s.useState)(!1),i=Object(y.a)(n,2),c=i[0],r=i[1],d=Object(s.useState)(!1),l=Object(y.a)(d,2),u=l[0],j=l[1],O=Object(s.useState)(""),b=Object(y.a)(O,2),m=b[0],h=b[1],p=Object(s.useState)(""),x=Object(y.a)(p,2),f=x[0],E=x[1],C=Object(s.useState)(""),P=Object(y.a)(C,2),v=P[0],I=P[1],A=Object(s.useState)(""),L=Object(y.a)(A,2),q=L[0],R=L[1],T={labelCol:{span:8},wrapperCol:{span:16}};return Object(g.jsx)("div",{className:"default_font",children:Object(g.jsxs)(F.a,{selectedKeys:[e.item],mode:"inline",style:{height:"100%",borderRight:0},children:[Object(g.jsx)(F.a.Item,{icon:Object(g.jsx)(V.a,{}),onClick:function(e){a.push("/teacherAssignments")},children:"Assignments"},"assignments"),Object(g.jsx)(Y.a,{title:"Change Password",visible:c,onOk:function(){S.a.defaults.withCredentials=!0,S.a.get("/api/ChangePassword",{params:{current_pw:v,new_pw:q}}).then((function(e){e.data.success?(M.b.success("Change successfully."),r(!1)):M.b.error("Invalid authentication information.")}))},onCancel:function(){return r(!1)},children:Object(g.jsxs)(w.a,{className:"change-form",name:"basic",initialValues:{remember:!0},children:[Object(g.jsx)(ee,Object(_.a)(Object(_.a)({},{wrapperCol:{span:24}}),{},{style:{textAlign:"center"},children:Object(g.jsx)("p",{className:"form_title",children:"user: "+window.sessionStorage.username})})),Object(g.jsx)(ee,Object(_.a)(Object(_.a)({},T),{},{label:"old password",children:Object(g.jsx)(D.a,{placeholder:"Please enter your old password.",maxLength:30,type:"password",onChange:function(e){I(e.target.value)}})})),Object(g.jsx)(ee,Object(_.a)(Object(_.a)({},T),{},{label:"new password",children:Object(g.jsx)(D.a,{placeholder:"Please enter your new password.",maxLength:30,type:"password",onChange:function(e){R(e.target.value)}})}))]})}),Object(g.jsx)(Y.a,{title:"Add Student",visible:u,onOk:function(){S.a.defaults.withCredentials=!0,S.a.post("/api/register",{username:m,password:f}).then((function(e){e.data.success?(M.b.success("Add successfully."),j(!1)):M.b.error("Fail to add, please retry.")}))},onCancel:function(){return j(!1)},children:Object(g.jsxs)(w.a,{className:"add-form",name:"basic",initialValues:{remember:!0},children:[Object(g.jsx)(ee,Object(_.a)(Object(_.a)({},T),{},{label:"student username",children:Object(g.jsx)(D.a,{placeholder:"Please enter the student username.",maxLength:10,onChange:function(e){h(e.target.value)}})})),Object(g.jsx)(ee,Object(_.a)(Object(_.a)({},T),{},{label:"student password",children:Object(g.jsx)(D.a,{placeholder:"Please enter the student password.",maxLength:30,type:"password",onChange:function(e){E(e.target.value)}})}))]})}),Object(g.jsx)(t,{icon:Object(g.jsx)(G.a,{}),title:"user",children:Object(g.jsxs)(F.a.ItemGroup,{title:"Current teacher: "+window.sessionStorage.username,children:[Object(g.jsx)(F.a.Item,{icon:Object(g.jsx)(J.a,{}),onClick:function(e){r(!0)},children:"edit password"},"change_pwd"),Object(g.jsx)(F.a.Item,{icon:Object(g.jsx)(X.a,{}),onClick:function(e){j(!0)},children:"add student"},"add_student")]})},"user"),Object(g.jsx)(F.a.Item,{icon:Object(g.jsx)(Z.a,{}),onClick:function(e){a.push("/databases")},children:"Databases"},"databases"),Object(g.jsx)(F.a.Item,{icon:Object(g.jsx)($.a,{}),onClick:function(e){window.sessionStorage.removeItem("username"),S.a.get("/api/logout").then((function(e){e.data.success&&(M.b.success("Log out successfully."),a.push("/"))}))},children:"Log out"},"out")]})})}function ae(){var e=L.a.Header,t=L.a.Content,a=L.a.Sider,n=Object(s.useState)([]),i=Object(y.a)(n,2),c=i[0],r=i[1],_=Object(o.f)(),d=[{title:"Assignment Name",dataIndex:"assignment_name",key:"name"},{title:"Start",dataIndex:"assignment_start_time",key:"start"},{title:"DDL",dataIndex:"assignment_end_time",key:"deadline"},{title:"Detail",key:"detail",render:function(e){return Object(g.jsx)(q.b,{size:"middle",children:Object(g.jsx)(P.a,{className:"button",onClick:function(){window.sessionStorage.assignment_id=e.assignment_id,_.push("/teacherQuestions")},children:"detail"})})}},{title:"Update",key:"update",render:function(e){return Object(g.jsx)(q.b,{size:"middle",children:Object(g.jsx)(P.a,{className:"button",onClick:function(){window.sessionStorage.assignment_id=e.assignment_id,window.sessionStorage.assignment_name=e.assignment_name,window.sessionStorage.assignment_start_time=e.assignment_start_time,window.sessionStorage.assignment_end_time=e.assignment_end_time,_.push("/updateAssignment")},children:"update"})})}},{title:"Delete",key:"delete",render:function(e){return Object(g.jsx)(q.b,{size:"middle",children:Object(g.jsx)(P.a,{className:"button",onClick:function(){S.a.delete("/api/teacher/AssignmentDetail",{params:{assignment_id:e.assignment_id}}).then((function(e){e.data.success?(M.b.success("Delete successfully."),l()):M.b.error("Fail to delete, please retry.")}))},children:"delete"})})}}];function l(){S.a.defaults.withCredentials=!0,S.a.get("/api/teacher/AssignmentListQuery").then((function(e){for(var t=e.data,a=0;a<t.length;a++)t[a].key=t[a].assignment_id;for(var s=0;s<t.length;s++)for(var n=s;n<t.length;n++)if(Date.parse(t[s].assignment_end_time)>Date.parse(t[n].assignment_end_time)){var i=t[s];t[s]=t[n],t[n]=i}r(t)}))}return Object(s.useEffect)((function(){l();var e=setInterval(l,3e3);return function(){clearInterval(e)}}),[]),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(e,{className:"header",children:Object(g.jsx)("img",{src:T.a,style:{height:"45px"},alt:""})}),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(a,{style:{width:"200px"},className:"site-layout-content",children:Object(g.jsx)(te,{item:"assignments"})}),Object(g.jsx)(L.a,{style:{padding:"0 24px 24px"},children:Object(g.jsx)(t,{className:"default_font",style:{margin:"24px 0"},children:Object(g.jsx)(x.a,{type:["top","bottom"],duration:"1400",ease:["easeOutQuart","easeInOutQuart"],children:Object(g.jsxs)("div",{children:[Object(g.jsx)(P.a,{type:"primary",style:{width:"90px",margin:"0 0 20px 0"},onClick:function(){_.push("/addAssignment")},children:"Add"}),Object(g.jsx)(R.a,{columns:d,dataSource:c})]},"assignments")},"demo")})})]})]})}var se=a(701),ne=a(704),ie=a(47),ce=a.n(ie),re=a(156),oe=a.n(re);function _e(){var e=Object(s.useState)(""),t=Object(y.a)(e,2),a=t[0],n=t[1],i=Object(s.useState)(""),c=Object(y.a)(i,2),r=c[0],_=c[1],d=Object(s.useState)(""),l=Object(y.a)(d,2),u=l[0],j=l[1],O=Object(s.useState)(""),b=Object(y.a)(O,2),m=b[0],h=b[1],p=L.a.Header,f=L.a.Content,E=L.a.Sider,w=se.a.RangePicker,C=Object(o.f)();return Object(s.useEffect)((function(){n(window.sessionStorage.assignment_id),_(window.sessionStorage.assignment_name),j(window.sessionStorage.assignment_start_time),h(window.sessionStorage.assignment_end_time)}),[]),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(p,{className:"header",children:Object(g.jsx)("img",{src:T.a,style:{height:"45px"},alt:""})}),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(E,{width:200,className:"site-layout-content",children:Object(g.jsx)(te,{item:"assignments"})}),Object(g.jsx)(L.a,{style:{padding:"0 24px 24px"},children:Object(g.jsx)(f,{className:"default_font",style:{margin:"24px 0"},children:Object(g.jsx)(x.a,{type:["right","left"],duration:"2000",ease:["easeOutQuart","easeInOutQuart"],children:Object(g.jsxs)(K.a,{title:"Update Assignment",children:[Object(g.jsx)("div",{children:Object(g.jsx)(ne.a,{status:"processing",text:"Assignment Name"})}),Object(g.jsx)(D.a,{style:{width:"200px"},placeholder:r,onChange:function(e){_(e.target.value)}}),Object(g.jsx)("div",{children:Object(g.jsx)(ne.a,{status:"processing",text:"Assignment Duration"})}),Object(g.jsx)(w,{ranges:{Today:[ce()(),ce()()],"This Month":[ce()().startOf("month"),ce()().endOf("month")]},showTime:!0,defaultValue:[ce()(u),ce()(m)],format:"YYYY/MM/DD HH:mm:ss",onChange:function(e){e.length>0&&(j(oe()("%B %d, %Y %H:%M:%S",new Date(e[0]))),h(oe()("%B %d, %Y %H:%M:%S",new Date(e[1]))))}}),Object(g.jsx)("div",{style:{height:"20px"}}),Object(g.jsx)(P.a,{style:{width:"90px",margin:"0 10px"},type:"primary",onClick:function(){S.a.patch("api/teacher/AssignmentDetail",{assignment_id:a,assignment_name:r,assignment_start_time:u,assignment_end_time:m}).then((function(e){e.data.success?(M.b.success("Update successfully."),C.push("/teacherAssignments")):M.b.error("Fail to update, please retry.")}))},children:"submit"})]},"demo1")},"demo")})})]})]})}function de(){var e=Object(s.useState)(""),t=Object(y.a)(e,2),a=t[0],n=t[1],i=Object(s.useState)(""),c=Object(y.a)(i,2),r=c[0],_=c[1],d=Object(s.useState)(""),l=Object(y.a)(d,2),u=l[0],j=l[1],O=L.a.Header,b=L.a.Content,m=L.a.Sider,h=se.a.RangePicker,p=Object(o.f)();return Object(g.jsxs)(L.a,{children:[Object(g.jsx)(O,{className:"header",children:Object(g.jsx)("img",{src:T.a,style:{height:"45px"},alt:""})}),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(m,{width:200,className:"site-layout-content",children:Object(g.jsx)(te,{item:"assignments"})}),Object(g.jsx)(L.a,{style:{padding:"0 24px 24px"},children:Object(g.jsx)(b,{className:"default_font",style:{margin:"24px 0"},children:Object(g.jsx)(x.a,{type:["right","left"],duration:"2000",ease:["easeOutQuart","easeInOutQuart"],children:[Object(g.jsxs)(K.a,{title:"Add Assignment",children:[Object(g.jsx)("div",{children:Object(g.jsx)(ne.a,{status:"processing",text:"Assignment Name"})}),Object(g.jsx)(D.a,{style:{width:"200px"},placeholder:"Assignment Name",onChange:function(e){n(e.target.value)}}),Object(g.jsx)("div",{style:{height:"20px"}}),Object(g.jsx)("div",{children:Object(g.jsx)(ne.a,{status:"processing",text:"Assignment Duration"})}),Object(g.jsx)(h,{ranges:{Today:[ce()(),ce()()],"This Month":[ce()().startOf("month"),ce()().endOf("month")]},showTime:!0,format:"YYYY/MM/DD HH:mm:ss",onChange:function(e){null!=e&&e.length>0&&(_(oe()("%B %d, %Y %H:%M:%S",new Date(e[0]))),j(oe()("%B %d, %Y %H:%M:%S",new Date(e[1]))))}}),Object(g.jsx)(P.a,{style:{width:"90px",margin:"0 10px"},type:"primary",onClick:function(){S.a.post("api/teacher/AssignmentDetail",{assignment_name:a,assignment_start_time:r,assignment_end_time:u}).then((function(e){e.data.success?(M.b.success("Add successfully."),p.push("/teacherAssignments")):M.b.error("Fail to add, please retry.")}))},children:"submit"})]},"demo1")]},"demo")})})]})]})}function le(){var e=L.a.Header,t=L.a.Content,a=L.a.Sider,n=Object(s.useState)([]),i=Object(y.a)(n,2),c=i[0],r=i[1],_=Object(o.f)(),d=window.sessionStorage.assignment_id,l=[{title:"Question Name",dataIndex:"question_name",key:"question_name"},{title:"Detail",key:"detail",render:function(e){return Object(g.jsx)(q.b,{size:"middle",children:Object(g.jsx)(P.a,{className:"button",onClick:function(){window.sessionStorage.detail_question_id=e.question_id,_.push("/questionDetail")},children:"detail"})})}},{title:"Update",key:"update",render:function(e){return Object(g.jsx)(q.b,{size:"middle",children:Object(g.jsx)(P.a,{className:"button",onClick:function(){window.sessionStorage.update_question_id=e.question_id,_.push("/updateQuestion")},children:"update"})})}},{title:"Delete",key:"delete",render:function(e){return Object(g.jsx)(q.b,{size:"middle",children:Object(g.jsx)(P.a,{className:"button",onClick:function(){S.a.delete("api/teacher/QuestionDetail",{params:{question_id:e.question_id}}).then((function(e){e.data.success?(M.b.success("Delete successfully."),u()):M.b.error("Fail to delete, please retry.")}))},children:"delete"})})}}];function u(){S.a.defaults.withCredentials=!0,S.a.get("/api/teacher/QuestionList",{params:{assignment_id:d}}).then((function(e){r(e.data)}))}return Object(s.useEffect)((function(){u();var e=setInterval(u,3e3);return function(){clearInterval(e)}}),[]),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(e,{className:"header",children:Object(g.jsx)("img",{src:T.a,style:{height:"45px"},alt:""})}),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(a,{width:200,className:"site-layout-content",children:Object(g.jsx)(te,{item:"assignments"})}),Object(g.jsx)(L.a,{style:{padding:"0 24px 24px"},children:Object(g.jsx)(t,{className:"default_font",style:{margin:"24px 0"},children:Object(g.jsx)(x.a,{type:["top","bottom"],duration:"1400",ease:["easeOutQuart","easeInOutQuart"],children:Object(g.jsxs)("div",{children:[Object(g.jsx)(P.a,{type:"primary",style:{width:"90px",margin:"0 10px"},onClick:function(){_.push("/AddQuestion")},children:"Add"}),Object(g.jsx)("div",{style:{height:"20px"}}),Object(g.jsx)(R.a,{columns:l,dataSource:c},"demo1")]},"questions")},"demo")})})]})]})}var ue=function(){var e=Object(s.useState)([]),t=Object(y.a)(e,2),a=t[0],n=t[1],i=Object(s.useState)(""),c=Object(y.a)(i,2),r=c[0],_=c[1],d=Object(s.useState)(""),l=Object(y.a)(d,2),u=l[0],j=l[1],O=Object(s.useState)(""),b=Object(y.a)(O,2),m=(b[0],b[1]),h=Object(s.useState)(""),p=Object(y.a)(h,2),f=p[0],E=p[1],w=L.a.Header,D=L.a.Content,C=L.a.Sider,M=window.sessionStorage.detail_question_id,v=Object(o.f)(),I=[{title:"Student Name",dataIndex:"username",key:"username"},{title:"Submit Time",dataIndex:"submit_time",key:"submit_time"},{title:"Action",key:"action",render:function(e){return Object(g.jsx)(q.b,{size:"middle",children:Object(g.jsx)(P.a,{className:"button",onClick:function(){window.sessionStorage.record_id=e.record_id,v.push("/teacherRecordDetail")},children:"detail"})})}}];return Object(s.useEffect)((function(){function e(){S.a.get("/api/teacher/RecordListQuery",{params:{question_id:M}}).then((function(e){for(var t=e.data,a=0;a<t.length;a++)t[a].key=t[a].username;for(var s=0;s<t.length;s++)for(var i=s;i<t.length;i++)if(Date.parse(t[s].assignment_end_time)>Date.parse(t[i].assignment_end_time)){var c=t[s];t[s]=t[i],t[i]=c}n(e.data)}))}S.a.get("/api/teacher/QuestionDetail",{params:{question_id:M}}).then((function(e){_(e.data.question_name),j(e.data.question_description),m(e.data.question_output),E(e.data.question_answer)})),e();var t=setInterval(e,3e3);return function(){clearInterval(t)}}),[]),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(w,{className:"header",children:Object(g.jsx)("img",{src:T.a,style:{height:"45px"},alt:""})}),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(C,{width:200,className:"site-layout-content",children:Object(g.jsx)(te,{item:"assignments"})}),Object(g.jsx)(L.a,{style:{padding:"0 24px 24px"},children:Object(g.jsx)(D,{className:"default_font",style:{margin:"24px 0"},children:Object(g.jsxs)(x.a,{type:["right","left"],duration:"2000",ease:["easeOutQuart","easeInOutQuart"],children:[Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{className:"info-card",title:"Question Name",children:Object(g.jsx)("div",{dangerouslySetInnerHTML:{__html:r}})})},"question_name"),Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{className:"info-card",title:"Question Description",children:Object(g.jsx)("div",{dangerouslySetInnerHTML:{__html:u}})})},"question_description"),Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{className:"info-card",title:"Standard Answer",children:Object(g.jsx)(W.Controlled,{value:f,options:{readOnly:!0,lineNumbers:!0,mode:{name:"text/x-mysql"},lineWrapping:!0,foldGutter:!0,theme:"solarized"}},"editor")})},"answer"),Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{className:"info-card",title:"Completion",children:Object(g.jsx)(R.a,{columns:I,dataSource:a})})},"Completion"),Object(g.jsx)("div",{className:"button-container",children:Object(g.jsx)(P.a,{style:{width:"90px"},type:"primary",onClick:function(){v.push("/teacherQuestions")},children:"return"})},"return")]},"demo")})})]})]})},je=function(){var e=Object(s.useState)(""),t=Object(y.a)(e,2),a=t[0],n=t[1],i=Object(s.useState)(""),c=Object(y.a)(i,2),r=c[0],_=c[1],d=L.a.Header,l=L.a.Content,u=L.a.Sider,j=window.sessionStorage.record_id,O=Object(o.f)();return Object(s.useEffect)((function(){S.a.get("/api/teacher/RecordOutput",{params:{record_id:j}}).then((function(e){console.log(e.data),n(e.data.username),_(e.data.record_code)}))}),[]),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(d,{className:"header",children:Object(g.jsx)("img",{src:T.a,style:{height:"45px"},alt:""})}),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(u,{width:200,className:"site-layout-content",children:Object(g.jsx)(te,{item:"assignments"})}),Object(g.jsx)(L.a,{style:{padding:"0 24px 24px"},children:Object(g.jsx)(l,{className:"default_font",style:{margin:"24px 0"},children:Object(g.jsxs)(x.a,{type:["right","left"],duration:"2000",ease:["easeOutQuart","easeInOutQuart"],children:[Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{className:"info-card",title:"Username",children:Object(g.jsx)("div",{dangerouslySetInnerHTML:{__html:a}})})},"username"),Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{title:"submitted code",children:Object(g.jsx)(W.Controlled,{value:r,options:{readOnly:!0,lineNumbers:!0,mode:{name:"text/x-mysql"},lineWrapping:!0,foldGutter:!0,theme:"solarized"}},"editor")})},"code"),",",Object(g.jsx)("div",{className:"button-container",children:Object(g.jsx)(P.a,{style:{width:"90px"},type:"primary",onClick:function(){O.push("/questionDetail")},children:"return"})},"return")]},"demo")})})]})]})},Oe=a(173),be=a(703),me=a(172),he=a.n(me);a(349);function pe(){var e=Object(s.useState)([]),t=Object(y.a)(e,2),a=t[0],n=t[1],i=Object(s.useState)(""),c=Object(y.a)(i,2),r=c[0],d=c[1],l=Object(s.useState)(""),u=Object(y.a)(l,2),j=u[0],O=u[1],b=Object(s.useState)(""),m=Object(y.a)(b,2),h=m[0],p=m[1],f=Object(s.useState)(""),E=Object(y.a)(f,2),w=E[0],C=(E[1],Object(s.useState)("sql")),v=Object(y.a)(C,2),I=v[0],A=v[1],q=Object(s.useState)(""),R=Object(y.a)(q,2),k=R[0],N=R[1],U=L.a.Header,B=L.a.Content,Q=L.a.Sider,H=Oe.a.Option,z=be.a.Panel,F=Object(o.f)(),Y=window.sessionStorage.assignment_id;return Object(s.useEffect)((function(){S.a.get("/api/teacher/DatabaseListQuery").then((function(e){n(e.data)}))}),[]),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(U,{className:"header",children:Object(g.jsx)("img",{src:T.a,style:{height:"45px"},alt:""})}),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(Q,{width:200,className:"site-layout-content",children:Object(g.jsx)(te,{item:"assignments"})}),Object(g.jsx)(L.a,{style:{padding:"0 24px 24px"},children:Object(g.jsx)(B,{className:"default_font",style:{margin:"24px 0"},children:Object(g.jsx)(x.a,{type:["right","left"],duration:"2000",ease:["easeOutQuart","easeInOutQuart"],children:Object(g.jsxs)(K.a,{title:"Add Question",children:["sql"===I?[Object(g.jsx)("div",{children:Object(g.jsx)(ne.a,{status:"processing",text:"Corresponding Database"})}),Object(g.jsx)(Oe.a,{showSearch:!0,style:{width:200},placeholder:"Search to Select",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},onChange:function(e){d(e)},children:a.map((function(e){return Object(g.jsx)(H,{value:e.db_id,children:e.db_name})}))})]:null,Object(g.jsx)("div",{style:{height:"10px"}}),Object(g.jsx)("div",{children:Object(g.jsx)(ne.a,{status:"processing",text:"Question Name"})}),Object(g.jsx)(D.a,{style:{width:"200px"},placeholder:"Question Name",onChange:function(e){O(e.target.value)}}),Object(g.jsx)("div",{style:{height:"10px"}}),Object(g.jsx)("div",{style:{padding:"3px"}}),Object(g.jsxs)(be.a,{defaultActiveKey:[],children:[Object(g.jsx)(z,{header:"Question Description",children:Object(g.jsx)(he.a,Object(_.a)(Object(_.a)({},{contentStyle:{height:300},contentFormat:"html"}),{},{onChange:function(e){p(e.toHTML())}}))},"description"),"sql"===I?[Object(g.jsx)("div",{style:{height:"5px"}}),Object(g.jsx)("div",{style:{padding:"3px"}}),Object(g.jsx)(z,{header:"Standard Answer",children:Object(g.jsx)(W.Controlled,{onBeforeChange:function(e,t,a){return N(a)},options:{lineNumbers:!0,mode:{name:"text/x-mysql"},extraKeys:{Ctrl:"autocomplete"},styleActiveLine:!0,lineWrapping:!0,foldGutter:!0,theme:"solarized"}},"editor")},"answer")]:null]},"detail"),Object(g.jsx)("div",{style:{height:"20px"}}),Object(g.jsx)("div",{children:Object(g.jsx)(ne.a,{status:"processing",text:"Question Type"})}),Object(g.jsxs)(Oe.a,{defaultValue:I,onChange:function(e){A(e)},children:[Object(g.jsx)(H,{value:"sql",children:"SQL"}),Object(g.jsx)(H,{value:"text",children:"Text"})]},"type"),Object(g.jsx)("div",{style:{height:"20px"}}),Object(g.jsx)(P.a,{style:{width:"90px"},type:"primary",onClick:function(){console.log({question_name:j,question_description:h,question_output:w,question_answer:k,question_type:I,assignment_id:Y,db_id:r}),S.a.post("/api/teacher/QuestionDetail",{question_name:j,question_description:h,question_output:w,question_answer:k,question_type:I,assignment_id:Y,db_id:r}).then((function(e){e.data.success?(M.b.success("Upload successfully."),F.push("/teacherQuestions")):M.b.error("Fail to upload, please retry.")}))},children:"submit"})]},"demo1")},"demo")})})]})]})}function xe(){var e=Object(s.useState)([]),t=Object(y.a)(e,2),a=t[0],n=t[1],i=Object(s.useState)(""),c=Object(y.a)(i,2),r=c[0],d=c[1],l=Object(s.useState)(""),u=Object(y.a)(l,2),j=u[0],O=u[1],b=Object(s.useState)(""),m=Object(y.a)(b,2),h=m[0],p=m[1],f=Object(s.useState)(""),E=Object(y.a)(f,2),w=E[0],C=E[1],v=Object(s.useState)(""),I=Object(y.a)(v,2),A=I[0],q=I[1],R=Object(s.useState)(""),k=Object(y.a)(R,2),N=k[0],U=k[1],B=Object(s.useState)("sql"),Q=Object(y.a)(B,2),H=Q[0],z=Q[1],F=Object(s.useState)(""),Y=Object(y.a)(F,2),V=Y[0],G=Y[1],J=L.a.Header,X=L.a.Content,Z=L.a.Sider,$=Oe.a.Option,ee=be.a.Panel,ae=Object(o.f)(),se=window.sessionStorage.update_question_id;return Object(s.useEffect)((function(){S.a.get("/api/teacher/QuestionDetail",{params:{question_id:se}}).then((function(e){console.log(e.data),d(e.data.db_id),O(e.data.assignment_id),p(e.data.question_id),C(e.data.question_name),q(e.data.question_description),U(e.data.question_output),z(e.data.question_type),G(e.data.question_answer)})),S.a.get("/api/teacher/DatabaseListQuery").then((function(e){n(e.data)}))}),[]),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(J,{className:"header",children:Object(g.jsx)("img",{src:T.a,style:{height:"45px"},alt:""})}),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(Z,{width:200,className:"site-layout-content",children:Object(g.jsx)(te,{item:"assignments"})}),Object(g.jsx)(L.a,{style:{padding:"0 24px 24px"},children:Object(g.jsx)(X,{className:"default_font",style:{margin:"24px 0"},children:Object(g.jsx)(x.a,{type:["right","left"],duration:"2000",ease:["easeOutQuart","easeInOutQuart"],children:Object(g.jsxs)(K.a,{title:"Update Question",children:["sql"===H?[Object(g.jsx)("div",{children:Object(g.jsx)(ne.a,{status:"processing",text:"Corresponding Database"})}),Object(g.jsx)(Oe.a,{showSearch:!0,style:{width:200},defaultValue:r,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},onChange:function(e){d(e)},children:a.map((function(e){return Object(g.jsx)($,{value:e.db_id,children:e.db_name})}))},r)]:null,Object(g.jsx)("div",{style:{height:"10px"}}),Object(g.jsx)("div",{children:Object(g.jsx)(ne.a,{status:"processing",text:"Question Name"})}),Object(g.jsx)(D.a,{style:{width:"200px"},placeholder:w,onChange:function(e){C(e.target.value)}},"name"),Object(g.jsx)("div",{style:{height:"10px"}}),Object(g.jsx)("div",{style:{padding:"3px"}}),Object(g.jsxs)(be.a,{defaultActiveKey:[],children:[Object(g.jsx)(ee,{header:"Question Description",children:Object(g.jsx)(he.a,Object(_.a)(Object(_.a)({},{contentStyle:{height:300},contentFormat:"html"}),{},{defaultValue:he.a.createEditorState(A),onChange:function(e){q(e.toHTML())}}))},"description"),"sql"===H?[Object(g.jsx)("div",{style:{height:"5px"}}),Object(g.jsx)("div",{style:{padding:"3px"}}),Object(g.jsx)(ee,{header:"Standard Answer",children:Object(g.jsx)(W.Controlled,{value:V,onBeforeChange:function(e,t,a){return G(a)},options:{lineNumbers:!0,mode:{name:"text/x-mysql"},extraKeys:{Ctrl:"autocomplete"},styleActiveLine:!0,lineWrapping:!0,foldGutter:!0,theme:"solarized"}},"editor")},"answer")]:null]},"detail"),Object(g.jsx)("div",{style:{height:"20px"}}),Object(g.jsx)("div",{children:Object(g.jsx)(ne.a,{status:"processing",text:"Question Type"})}),Object(g.jsxs)(Oe.a,{defaultValue:H,onChange:function(e){z(e)},children:[Object(g.jsx)($,{value:"sql",children:"SQL"}),Object(g.jsx)($,{value:"text",children:"Text"})]},H),Object(g.jsx)("div",{style:{height:"20px"}}),Object(g.jsx)(P.a,{style:{width:"90px"},type:"primary",onClick:function(){console.log({question_name:w,question_description:A,question_output:N,question_answer:V,question_type:H,assignment_id:j,db_id:r}),S.a.patch("/api/teacher/QuestionDetail",{question_id:h,question_name:w,question_description:A,question_output:N,question_answer:V,question_type:H,assignment_id:j,db_id:r}).then((function(e){e.data.success?(M.b.success("update successfully."),ae.push("/teacherQuestions")):M.b.error("Fail to update, please retry.")}))},children:"update"})]},"demo1")},"demo")})})]})]})}function ge(){var e=L.a.Header,t=L.a.Content,a=L.a.Sider,n=Object(s.useState)([]),i=Object(y.a)(n,2),c=i[0],r=i[1],_=Object(o.f)();var d=[{title:"Name",dataIndex:"db_name",key:"database_name"},{title:"Description",dataIndex:"db_description",key:"database_description"},{title:"Upload Time",dataIndex:"upload_time",key:"upload_time"},{title:"Delete",key:"delete",render:function(e){return Object(g.jsx)(q.b,{size:"middle",children:Object(g.jsx)(P.a,{className:"button",onClick:function(){console.log(e.database_id),S.a.delete("/api/teacher/DatabaseDetail",{params:{db_id:e.db_id}}).then((function(e){e.data.success?(M.b.success("delete successfully."),S.a.get("/api/teacher/DatabaseListQuery").then((function(e){var t=e.data;r(t)}))):M.b.error("Fail to delete, there are some questions dependent on this database.")}))},children:"delete"})})}}];return Object(s.useEffect)((function(){function e(){S.a.get("/api/teacher/DatabaseListQuery").then((function(e){var t=e.data;r(t)}))}e();var t=setInterval(e,3e3);return function(){clearInterval(t)}}),[]),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(e,{className:"header",children:Object(g.jsx)("img",{src:T.a,style:{height:"45px"},alt:""})}),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(a,{style:{width:"200px"},className:"site-layout-content",children:Object(g.jsx)(te,{item:"databases"})}),Object(g.jsx)(L.a,{style:{padding:"0 24px 24px"},children:Object(g.jsx)(t,{className:"default_font",style:{margin:"24px 0"},children:Object(g.jsx)(x.a,{type:["top","bottom"],duration:"1400",ease:["easeOutQuart","easeInOutQuart"],children:Object(g.jsxs)("div",{children:[Object(g.jsx)(P.a,{style:{width:"90px"},type:"primary",onClick:function(){_.push("/addDatabase")},children:"Add"}),Object(g.jsx)("div",{style:{height:"20px"}}),Object(g.jsx)(R.a,{columns:d,dataSource:c},"demo1")]},"databases")},"demo")})})]})]})}var fe=a(363),Ee=a(702),ye=a(709);function we(){var e=D.a.TextArea,t=Object(s.useState)(""),a=Object(y.a)(t,2),n=a[0],i=a[1],c=Object(s.useState)(""),r=Object(y.a)(c,2),d=r[0],l=r[1],u=Object(s.useState)(""),j=Object(y.a)(u,2),O=j[0],b=j[1],m=Object(s.useState)([]),h=Object(y.a)(m,2),p=h[0],f=h[1],E=L.a.Header,w=L.a.Content,C=L.a.Sider,v=Object(o.f)(),I={beforeUpload:function(e,t){return console.log(e),b(e),!1},onChange:function(e){var t=Object(fe.a)(e.fileList);t=(t=t.slice(-1)).map((function(e){return e.response&&(e.url=e.response.url),e})),f(t)},fileList:p};return Object(g.jsxs)(L.a,{children:[Object(g.jsx)(E,{className:"header",children:Object(g.jsx)("img",{src:T.a,style:{height:"45px"},alt:""})}),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(C,{width:200,className:"site-layout-content",children:Object(g.jsx)(te,{item:"databases"})}),Object(g.jsx)(L.a,{style:{padding:"0 24px 24px"},children:Object(g.jsx)(w,{className:"default_font",style:{margin:"24px 0"},children:Object(g.jsx)(x.a,{type:["right","left"],duration:"2000",ease:["easeOutQuart","easeInOutQuart"],children:Object(g.jsxs)(K.a,{title:"Add Database",children:[Object(g.jsx)("div",{children:Object(g.jsx)(ne.a,{status:"processing",text:"Database Name"})}),Object(g.jsx)(D.a,{style:{width:"200px"},placeholder:"Database Name",onChange:function(e){i(e.target.value)}}),Object(g.jsx)("div",{style:{height:"20px"}}),Object(g.jsx)(e,{className:"submit_text",rows:5,placeholder:"Input topic description.",onChange:function(e){l(e.target.value)}},"demo4"),Object(g.jsx)("div",{style:{height:"20px"}}),Object(g.jsx)("div",{children:Object(g.jsx)(ne.a,{status:"processing",text:"Select the SQLite database file."})}),Object(g.jsx)(Ee.a,Object(_.a)(Object(_.a)({},I),{},{children:Object(g.jsx)(P.a,{icon:Object(g.jsx)(ye.a,{}),children:"Select"})})),Object(g.jsx)("div",{style:{height:"20px"}}),Object(g.jsx)(P.a,{style:{width:"90px"},type:"primary",onClick:function(){var e=new FormData;e.append("db_name",n),e.append("db_description",d),e.append("file",O),S.a.post("api/teacher/DatabaseDetail",e).then((function(e){e.data.success?(M.b.success("Add successfully."),v.push("/databases")):M.b.error("Fail to add, please retry.")}))},children:"submit"})]},"demo1")},"demo")})})]})]})}function De(){return Object(g.jsx)(r.a,{children:Object(g.jsxs)(o.c,{children:[Object(g.jsx)(o.a,{path:"/login",component:A}),Object(g.jsx)(o.a,{path:"/assignments",component:N}),Object(g.jsx)(o.a,{path:"/questions",component:B}),"}",Object(g.jsx)(o.a,{path:"/submit",component:Q}),"}",Object(g.jsx)(o.a,{path:"/records",component:H}),Object(g.jsx)(o.a,{path:"/recordDetail",component:z.a}),Object(g.jsx)(o.a,{path:"/teacherAssignments",component:ae}),"}",Object(g.jsx)(o.a,{path:"/updateAssignment",component:_e}),Object(g.jsx)(o.a,{path:"/addAssignment",component:de}),Object(g.jsx)(o.a,{path:"/teacherQuestions",component:le}),Object(g.jsx)(o.a,{path:"/questionDetail",component:ue}),Object(g.jsx)(o.a,{path:"/teacherRecordDetail",component:je}),Object(g.jsx)(o.a,{path:"/addQuestion",component:pe}),Object(g.jsx)(o.a,{path:"/databases",component:ge}),Object(g.jsx)(o.a,{path:"/addDatabase",component:we}),Object(g.jsx)(o.a,{path:"/updateQuestion",component:xe}),Object(g.jsx)(o.a,{path:"/",component:E}),Object(g.jsx)(o.a,{component:E})]})})}S.a.defaults.crossDomain=!0,S.a.defaults.withCredentials=!0,S.a.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status?(M.b.error("Unauthorized Access!"),Promise.reject(e)):Promise.reject(e)})),c.a.render(Object(g.jsx)(De,{}),document.getElementById("root"))},90:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var s=a(26),n=a(11),i=a(0),c=a(370),r=a(66),o=a(695),_=a(93),d=a(371),l=a(41),u=(a(188),a(177)),j=a(696),O=a(697),b=a(698),m=a(699),h=a(18),p=a.n(h),x=a(3),g=c.a.Item;function f(e){var t=r.a.SubMenu,a=Object(l.f)(),h=Object(i.useState)(!1),f=Object(n.a)(h,2),E=f[0],y=f[1],w=Object(i.useState)(""),D=Object(n.a)(w,2),C=D[0],P=D[1],M=Object(i.useState)(""),v=Object(n.a)(M,2),S=v[0],I=v[1],A={labelCol:{span:8},wrapperCol:{span:16}};return Object(x.jsx)("div",{className:"default_font",children:Object(x.jsxs)(r.a,{selectedKeys:[e.item],mode:"inline",style:{height:"100%",borderRight:0},children:[Object(x.jsx)(r.a.Item,{icon:Object(x.jsx)(u.a,{}),onClick:function(e){a.push("/assignments")},children:"Assignments"},"assignments"),Object(x.jsx)(r.a.Item,{icon:Object(x.jsx)(j.a,{}),onClick:function(e){a.push("/records")},children:"Records"},"records"),Object(x.jsx)(o.a,{title:"Change Password",visible:E,onOk:function(){console.log("aaaaaaaaaaa"),p.a.defaults.withCredentials=!0,p.a.get("/api/ChangePassword",{params:{current_pw:C,new_pw:S}}).then((function(e){e.data.success?(_.b.success("Change successfully."),y(!1)):_.b.error("Invalid authentication information.")}))},onCancel:function(){return y(!1)},children:Object(x.jsxs)(c.a,{className:"change-form",name:"basic",initialValues:{remember:!0},children:[Object(x.jsx)(g,Object(s.a)(Object(s.a)({},{wrapperCol:{span:24}}),{},{style:{textAlign:"center"},children:Object(x.jsx)("p",{className:"form_title",children:"user: "+window.sessionStorage.username})})),Object(x.jsx)(g,Object(s.a)(Object(s.a)({},A),{},{label:"old password",children:Object(x.jsx)(d.a,{placeholder:"Please enter your old password.",maxLength:30,type:"password",onChange:function(e){P(e.target.value)}})})),Object(x.jsx)(g,Object(s.a)(Object(s.a)({},A),{},{label:"new password",children:Object(x.jsx)(d.a,{placeholder:"Please enter your new password.",maxLength:30,type:"password",onChange:function(e){I(e.target.value)}})}))]})}),Object(x.jsx)(t,{icon:Object(x.jsx)(O.a,{}),title:"user",children:Object(x.jsx)(r.a.ItemGroup,{title:"The current student: "+window.sessionStorage.username,children:Object(x.jsx)(r.a.Item,{icon:Object(x.jsx)(b.a,{}),onClick:function(e){y(!0)},children:"edit password"},"change_pwd")})},"user"),Object(x.jsx)(r.a.Item,{icon:Object(x.jsx)(m.a,{}),onClick:function(e){window.sessionStorage.removeItem("username"),p.a.get("/api/logout").then((function(e){e.data.success&&(_.b.success("Log out successfully."),a.push("/"))}))},children:"Log out"},"out")]})})}}},[[692,1,2]]]);
//# sourceMappingURL=main.7febad6d.chunk.js.map